(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{817:function(t,e,r){Promise.resolve().then(r.bind(r,306))},306:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return a}});var i=r(7437),o=r(2265),s=r(6554);function a(){let[t,e]=(0,o.useState)([]),[r,a]=(0,o.useState)([]);(0,o.useEffect)(()=>{let t=(0,s.AU)(),r=(0,s.Xp)();e(t),a(r)},[]);let n=new Date().toISOString().split("T")[0],c=t.filter(t=>t.orderDate.startsWith(n)),d=c.reduce((t,e)=>t+e.totalAmount,0),u=t.filter(t=>"待處理"===t.status).length,l=r.length;return(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"儀表板"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-gray-600",children:"今日訂單數"}),(0,i.jsx)("p",{className:"text-4xl font-bold text-gray-800 mt-2",children:c.length})]}),(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-gray-600",children:"今日營業額"}),(0,i.jsxs)("p",{className:"text-4xl font-bold text-gray-800 mt-2",children:["$",d.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-gray-600",children:"待處理訂單"}),(0,i.jsx)("p",{className:"text-4xl font-bold text-orange-500 mt-2",children:u})]}),(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-gray-600",children:"商品總數"}),(0,i.jsx)("p",{className:"text-4xl font-bold text-gray-800 mt-2",children:l})]})]})]})}},6554:function(t,e,r){"use strict";let i;r.d(e,{AU:function(){return x},CP:function(){return u},Cs:function(){return P},E7:function(){return f},IP:function(){return N},Ir:function(){return y},Xp:function(){return p},gK:function(){return g},i8:function(){return l},nM:function(){return h},uu:function(){return m}});let o="fruitDeliveryMockDB",s=[{id:1,name:"蔬菜類",sortOrder:1},{id:2,name:"水果類",sortOrder:2},{id:3,name:"肉品",sortOrder:3},{id:4,name:"海鮮",sortOrder:4},{id:5,name:"丸類",sortOrder:5},{id:6,name:"火鍋料",sortOrder:6}],a=[{id:1,name:"高麗菜",category:"蔬菜類",price:50,isPriceByWeight:!0,imageUrl:"https://via.placeholder.com/80?text=高麗菜",description:"新鮮高麗菜",stock:100,options:[]},{id:2,name:"蘋果",category:"水果類",price:80,isPriceByWeight:!1,imageUrl:"https://via.placeholder.com/80?text=蘋果",description:"香甜蘋果",stock:50,options:[]},{id:3,name:"豬五花",category:"肉品",price:120,isPriceByWeight:!1,imageUrl:"https://via.placeholder.com/80?text=豬五花",description:"美味豬五花",stock:30,options:[]},{id:4,name:"鮭魚片",category:"海鮮",price:250,isPriceByWeight:!1,imageUrl:"https://via.placeholder.com/80?text=鮭魚片",description:"新鮮鮭魚片",stock:20,options:[]},{id:5,name:"香菇貢丸",category:"丸類",price:90,isPriceByWeight:!1,imageUrl:"https://via.placeholder.com/80?text=貢丸",description:"Q彈香菇貢丸",stock:80,options:[]},{id:6,name:"金針菇",category:"蔬菜類",price:30,isPriceByWeight:!1,imageUrl:"https://via.placeholder.com/80?text=金針菇",description:"火鍋必備金針菇",stock:120,options:[]},{id:7,name:"珍珠奶茶",category:"飲料",price:60,isPriceByWeight:!1,imageUrl:"https://via.placeholder.com/80?text=珍奶",description:"經典珍珠奶茶",stock:999,options:[{groupName:"甜度",type:"single",required:!0,values:["無糖","微糖","半糖","正常糖"]},{groupName:"冰塊",type:"single",required:!0,values:["去冰","微冰","少冰","正常冰"]},{groupName:"加料",type:"multiple",required:!1,values:["珍珠","椰果","布丁"]}]}],n=[{id:1,name:"高麗菜",minStock:50,batches:[{quantity:80,unitCost:25,purchaseDate:"2025-08-01"},{quantity:20,unitCost:30,purchaseDate:"2025-08-05"},{quantity:10,unitCost:28,purchaseDate:"2025-08-07"}]},{id:2,name:"蘋果",minStock:30,batches:[{quantity:50,unitCost:60,purchaseDate:"2025-08-02"},{quantity:15,unitCost:62,purchaseDate:"2025-08-06"}]},{id:3,name:"豬五花",minStock:20,batches:[{quantity:30,unitCost:90,purchaseDate:"2025-08-03"}]},{id:4,name:"鮭魚片",minStock:10,batches:[{quantity:15,unitCost:200,purchaseDate:"2025-08-04"}]},{id:5,name:"香菇貢丸",minStock:40,batches:[{quantity:80,unitCost:70,purchaseDate:"2025-08-01"}]},{id:6,name:"金針菇",minStock:60,batches:[{quantity:120,unitCost:20,purchaseDate:"2025-08-02"}]}],c=[{id:1,customerName:"王小明",customerPhone:"0912345678",deliveryAddress:"台北市信義區市府路1號",totalAmount:350,status:"待處理",orderDate:"2025-08-08 10:30",items:[{productId:1,name:"高麗菜",quantity:1,unitPrice:50,options:[],isPriceByWeight:!1},{productId:2,name:"蘋果",quantity:2,unitPrice:80,options:[],isPriceByWeight:!1},{productId:5,name:"香菇貢丸",quantity:1,unitPrice:90,options:[],isPriceByWeight:!1}]},{id:2,customerName:"陳大華",customerPhone:"0922334455",deliveryAddress:"新北市板橋區縣民大道二段7號",totalAmount:200,status:"已確認",orderDate:"2025-08-08 11:00",items:[{productId:7,name:"青江菜",quantity:3,unitPrice:40,options:[],isPriceByWeight:!1},{productId:8,name:"香蕉",quantity:1,unitPrice:60,options:[],isPriceByWeight:!1}]},{id:3,customerName:"林美玲",customerPhone:"0933445566",deliveryAddress:"桃園市中壢區中正路100號",totalAmount:120,status:"待處理",orderDate:"2025-08-08 12:15",items:[{productId:1,name:"高麗菜",quantity:1,unitPrice:0,options:[],isPriceByWeight:!0},{productId:3,name:"豬五花",quantity:1,unitPrice:120,options:[],isPriceByWeight:!1}]},{id:4,customerName:"張小華",customerPhone:"0987654321",deliveryAddress:"台中市西屯區台灣大道三段",totalAmount:80,status:"待處理",orderDate:"2025-08-09 09:00",items:[{productId:1,name:"高麗菜",quantity:2,unitPrice:0,options:[],isPriceByWeight:!0},{productId:2,name:"蘋果",quantity:1,unitPrice:80,options:[],isPriceByWeight:!1}]}];{let t=localStorage.getItem(o);if(t)try{i=JSON.parse(t),console.log("Loaded DB from localStorage:",i)}catch(t){console.error("Error parsing localStorage DB, using default:",t),i={categories:s,products:a,inventory:n,orders:c}}else console.log("No DB found in localStorage, using default."),i={categories:s,products:a,inventory:n,orders:c}}let d=()=>{try{localStorage.setItem(o,JSON.stringify(i)),console.log("Saving DB to localStorage:",i)}catch(t){console.error("Error saving DB to localStorage:",t)}},u=()=>[...i.categories],l=t=>{let e={id:Math.max(...i.categories.map(t=>t.id),0)+1,name:t,sortOrder:i.categories.length+1};return i.categories.push(e),d(),e},m=t=>{i.categories=i.categories.filter(e=>e.id!==t),d()},p=()=>[...i.products],g=t=>{let e=Math.max(...i.products.map(t=>t.id),0)+1,r={...t,id:e};return i.products.push(r),d(),r},h=t=>{i.products=i.products.map(e=>e.id===t.id?t:e),d()},y=t=>{i.products=i.products.filter(e=>e.id!==t),d()},x=()=>[...i.orders],f=(t,e)=>{i.orders=i.orders.map(r=>r.id===t?{...r,status:e}:r),d()},P=t=>{i.orders=i.orders.map(e=>e.id===t.id?t:e),d()},N=()=>[...i.categories].sort((t,e)=>t.sortOrder-e.sortOrder).map(t=>({categoryName:t.name,sortOrder:t.sortOrder,products:i.products.filter(e=>e.category===t.name).map(t=>({id:t.id,name:t.name,price:t.price,imageUrl:t.imageUrl,isPriceByWeight:t.isPriceByWeight}))}))}},function(t){t.O(0,[971,23,744],function(){return t(t.s=817)}),_N_E=t.O()}]);